/**
 * Ligne Paginatejs
 *
 * Autor: Albert Eduardo Hidalgo Taveras
 * Github: https://github.com/itsalb3rt
 *
 * El prop√≥sito de esta liberia es proporcionar una herramienta sin
 * dependencias de Frameworks o otras dependencias molestas.
 *
 * Con unas pocas configuraciones esto es capaz de arrancar y liberarlo de mucho trabajo.
 *
 * *
 * Ejemplo:
 * let options = {
 *       numberPerPage:5,
 *       goBar:false,
 *       pageCounter:false,
 * };
 *
 * let filterOptions = {
 *      el:'#searchBox'
 * };
 *
 * paginate.init('.myTable',options,filterOptions);
 **/
(function(a){'use strict';'undefined'==typeof a.paginate&&(a.paginate=function(){var c={};c.init=function(F,G={numberPerPage:10,goBar:!1,pageCounter:!0},H=[{el:null}]){j(F),h(c.getEl()),v(),u(G),f(G.numberPerPage),k(H),E()};var d={el:null,table:null,numberPerPage:10,constNumberPerPage:10,numberOfPages:0,goBar:!1,pageCounter:!0,hasPagination:!0},e={el:null,filterBox:null,trs:null},f=function(F){d.constNumberPerPage=F},g=function(F){d.numberPerPage=F},h=function(F){-1<F.indexOf('#')?d.table=document.getElementById(F.replace('#','').trim()):-1<F.indexOf('.')&&(d.table=document.querySelector(F))},i=function(F){-1<F.indexOf('#')?e.filterBox=document.getElementById(F.replace('#','').trim()):-1<F.indexOf('.')&&(e.filterBox=document.querySelector(F))},j=function(F){d.el=F},k=function(F){null!=F.el&&(l(F.el),i(e.el),w(),m())},l=function(F){e.el=F},m=function(){e.filterBox.setAttribute('onkeyup','paginate.filter()')},n=function(F){d.goBar=F},o=function(F){d.pageCounter=F};c.getEl=function(){return d.el},c.getTable=function(){return d.table},c.getNumberPerPage=function(){return d.numberPerPage},c.getConstNumberPerPage=function(){return d.constNumberPerPage};var p,r,s,t,q=[],u=function(F){F.numberPerPage!=d.numberPerPage&&g(F.numberPerPage),'boolean'==typeof F.goBar&&n(F.goBar),'boolean'==typeof F.pageCounter&&o(F.pageCounter)},v=function(){if(null==d.table)throw new Error('Element '+c.getEl()+' no exits')},w=function(){if(null==e.filterBox)throw new Error('Element '+c.getEl()+' no exits')},x=function(){let F=document.querySelector('div.paginate');null!=F&&y(F)},y=function(F){F.parentNode.removeChild(F)},z=function(){document.querySelector('.paginate_controls').style.visibility='hidden'},A=function(){document.querySelector('.paginate_controls').style.visibility='unset'},B=function(F,G){let H=1==G?'disabled':'',I=G==F?'disabled':'',J='<input type=\'button\' value=\'\u2190 prev\' class=\'paginate_control_prev\' onclick=\'paginate.sort('+(G-1)+')\' '+H+'>';for(let M=1;M<=F;M++)J+=10<F?C(M,F):'<input type=\'button\' id=\'id'+M+'\'value=\''+M+'\' onclick=\'paginate.sort('+M+')\'>';return J+='<input type=\'button\' value=\'next \u2192\' class=\'paginate_control_next\' onclick=\'paginate.sort('+(G+1)+')\' '+I+'>',d.pageCounter&&(J+='<input type=\'button\' value=\''+G+' - '+F+'\' disabled>'),d.goBar&&(J+=D()),J},C=function(F,G){return F>G-1||5>F?'<input type=\'button\' id=\'id'+F+'\'value=\''+F+'\' onclick=\'paginate.sort('+F+')\'>':F+1==G?'...'+'<input type=\'button\' id=\'id'+F+'\'value=\''+F+'\' style=\'display: none\' onclick=\'paginate.sort('+F+')\'>':'<input type=\'button\' id=\'id'+F+'\'value=\''+F+'\' style=\'display: none\' onclick=\'paginate.sort('+F+')\'>'},D=function(){let F='<input type=\'number\' id=\'paginate_page_to_go\' value=\'1\' min=\'1\' max=\''+d.numberOfPages+'\'>';return F+'<input type=\'button\' id=\'paginate-go-button\' value=\'Go\' onclick=\'paginate.goToPage()\'>  '};c.goToPage=function(){let F=document.getElementById('paginate_page_to_go').value;c.sort(F)};var E=function(){x(),p=d.table,s=d.numberPerPage;let I,J,F=p.rows.length,G=p.rows[0].firstElementChild.tagName,H='TH'===G,K=H?1:0;if(t=H?p.rows[0].outerHTML:'',r=Math.ceil(F/s),d.numberOfPages=r,1<r){for(d.hasPagination=!0,I=K,J=0;I<F;I++,J++)q[J]=p.rows[I].outerHTML;p.insertAdjacentHTML('afterend','<div id=\'buttons\' class=\'paginate paginate_controls\'></div'),c.sort(1)}else d.hasPagination=!1};return c.sort=function(F){let G=t,H=d.numberPerPage*F-d.numberPerPage;for(let I=H;I<H+d.numberPerPage&&I<q.length;I++)G+=q[I];p.innerHTML=G,document.getElementById('buttons').innerHTML=B(r,F),document.getElementById('id'+F).classList.add('active'),document.getElementById('id'+F).style.display='unset'},c.filter=function(){d.hasPagination&&(g(9999),c.sort(1),z());const F=document.querySelector(e.el).value.toUpperCase(),G=document.querySelectorAll(d.el+' tr:not(.header)');G.forEach(H=>H.style.display=[...H.children].find(I=>I.innerHTML.toUpperCase().includes(F))?'':'none'),0==F.length&&d.hasPagination&&(g(c.getConstNumberPerPage()),c.sort(1),A())},c}())})(window);